<!DOCTYPE html><html><head><title>FB-Osmose Bridge</title><link rel="stylesheet" href="screen.css" type="text/css"><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script><script src="funcWizard.js"></script><script type="text/javascript">$(document).ready(function(){	var species = "https://fishbase.ropensci.org/species?fields=Length,DemersPelag,DepthRangeShallow,DepthRangeDeep";		var groupctr = 1;	var ctr;	var urlsp;		while(document.getElementsByName(groupctr+"species").length > 0){		ctr = groupctr;		var group1 = document.getElementsByName(ctr+"species");		var len1 = group1.length;				for(var a=0; a<len1; a++){			var genspec = group1[a].value.split(/(?=[A-Z])/);			var gen = genspec[0];			var sp = genspec[1];						var out;			var sizeid;			var habitatid;			var depthid;						urlsp = species + "&genus=" + gen + "&species=" + sp;						$.ajax({				type: 'GET',				url: urlsp,				async:false,				success: function (result){					out = result.data[0];					sizeid= 'td'+ctr+'size';					habitatid = 'td'+ctr+'habitat';					depthid = 'td'+ctr+'depth';										$('#'+sizeid).append('<span id="'+a+sizeid+'">'+out['Length']+'</span><br>');					$('#'+habitatid).append('<span id="'+a+habitatid+'">'+out['DemersPelag']+'</span><br>');										if(out['DepthRangeShallow'] == null || out['DepthRangeShallow'] == 0){						if(out['DepthRangeDeep'] == null || out['DepthRangeDeep'] == 0){							$('#'+depthid).append('<br>');						}else{							$('#'+depthid).append('<span id="'+a+depthid+'">'+out['DepthRangeDeep'] +'</span><br>');						}					}else{						if(out['DepthRangeDeep'] == null || out['DepthRangeDeep'] == 0){							$('#'+depthid).append('<span id="'+a+depthid+'">'+out['DepthRangeShallow'] + '</span><br>');						}else{							$('#'+depthid).append('<span id="'+a+depthid+'">'+out['DepthRangeShallow']+"-" + out['DepthRangeDeep'] +'</span><br>');						}					}				},				error: function(XMLHttpRequest, textStatus, errorThrown) {					alert(textStatus);				}			});		}		groupctr++;	}});</script></head><body>	<div class="pheader">Step 3: Reorganize functional groups</div>	<div id="container">		<p class="justify13 padTop10">FishBase/SealifeBase defined functional groups for you</p>				<p class="justify13 padTop10"> Please feel free to: </p>				<p class="justify13"><b>(1)</b> Indicate whether each functional group is a focal functional group or a background functional group, using dedicated radio buttons. Focal functional groups are groups of species/species which are explicitly considered in OSMOSE (i.e., their whole life cycle is modeled), while background functional groups are groups of species/species which are implicitly considered in OSMOSE (fields of biomass for these groups are used to force the OSMOSE model). By default, FishBase/SeaLifeBase defined all functional groups as focal functional groups.</p>				<p class="justify13"><b>(2)</b> Remove species from some functional groups. To remove a species from a given functional group, deselect it from the column "Species" using the dedicated radio button.</p>				<p class="justify13"><b>(3)</b> Redistribute species between functional groups. To redistribute a given species between two functional groups: (i) deselect this species from the column "Species" of its original functional group using the dedicated radio button; and (ii) in the column "Species" of the functional group in which you wish to reallocate the species, press the Edit button (<img class="imgSize25" src="edit.png">) and type the name of species (Latin name, vernacular name, family name or order name); suggestions will be provided to you as you start typing something.</p>				<p class="justify13"><b>(4)</b> Remove functional groups from the table. To do so, use the radio buttons of the "Select/deselect" column.</p>				<p class="justify13"><b>(5)</b> Create functional groups. To create a new functional group, press the Plus button at the bottom of the table (<img class="imgSize25" src="add.png">). Then: (i) enter the name of the new functional group; (ii) indicate whether the new functional group is a focal functional group or a background functional group, using dedicated radio buttons; (iii) and, in the column "Species", type the name of the different species making up the new functional group (Latin names, vernacular names, family names and/or order names); suggestions will be provided to you as you start typing something.</p>				<p class="justify13"><b>(6)</b> Rename functional groups. To rename a functional group, press the Edit button (<img class="imgSize25" src="edit.png">) at the right of the functional group name. </p>				<p class="justify13 padTop10">*Caution: The name of the functional groups should not include spaces nor underscores. For example, "SmallPelagics" is a valid functional group name, but not "Small pelagics" nor "Small_pelagics".</p>		<p class="justify13 padTop10">When you are ready, press Proceed to go to the next step.</p>				<form action="step4.html" method="get" onSubmit="return save();" id="step3defineForm" name="step3defineForm">		<div class="padTop10 padBottom10"> Sort by: <input type="radio" name="sortby" value="size" checked>Size</input> <input type="radio" name="sortby" value="habitat">Habitat</input> <input type="radio" name="sortby" value="depth">Depth</input></div>				<table class="padTop10 collapse" border="1">			<th class="width5">Select/ deselect</th>			<th>Functional Group</th>			<th class="width10">Focal Functional Group</th>			<th class="width10">Background Functional Group</th>			<th class="width25">Species</th>			<th>Size Category</th>			<th>Habitat</th>			<th>Depth</th>			<tr id="group1">				<td><div class="center"><input type="checkbox" name="selectedgroup" id="selected1" value="Amberjacks" onclick='selectFunctionalGroup(this);' checked></div></td>				<td>Amberjacks <div class="floatRight"><img class="imgSize25" src="edit.png"></div></td>				<td><div class="center"><input type="radio" name="sample1" value="fgroup" checked></input></div></td>				<td><div class="center"><input type="radio" name="sample1" value="bgroup"></input></div></td>				<td id="td1species">				<div class="floatLeft width80 overflow-hidden"><input type="checkbox" name="1species" value="SeriolaDumerili" id="0td1species" checked><i>Seriola dumerili</i>				<br/>				<input type="checkbox" name="1species" id="1td1species" value="SeriolaFasciata" checked><i>Seriola fasciata</i>				<br/>				<input type="checkbox" name="1species" id="1td1species" value="SeriolaZonata" checked><i>Seriola zonata</i></div>				<div class="overflow-hidden"><img class="imgSize25" src="edit.png"></div></td>				<td id="td1size"></td>				<td id="td1habitat"></td>				<td id="td1depth"></td>			</tr>			<tr id="group2">				<td><div class="center"><input type="checkbox" name="selectedgroup" id="selected2" value="SmallPelagics" onclick='selectFunctionalGroup(this);' checked></input></div></td>				<td>SmallPelagics<div class="floatRight"><img class="imgSize25" src="edit.png"></div></td>				<td><div class="center"><input type="radio" name="sample2" value="fgroup" checked></input></div></td>				<td><div class="center"><input type="radio" name="sample2" value="bgroup"></input></div></td>				<td id="td2species">				<div class="floatLeft width80 overflow-hidden"><input type="checkbox" name="2species" id="0td2species" value="SardinellaAurita" checked>				<i>Sardinella aurita</i>				<br/>				<input type="checkbox" name="2species" id="1td2species" value="HarengulaJaguana" checked><i>Harengula jaguana</i>				<br/>				<input type="checkbox" name="2species" id="2td2species" value="OpisthonemaOglinum" checked><i>Opisthonema oglinum</i><br/>				<input type="checkbox" name="2species" id="3td2species" value="DecapterusPunctatus" checked><i>Decapterus punctatus</i></div>				<div class="overflow-hidden"><img class="imgSize25" src="edit.png"></div></td>				<td id="td2size"></td>				<td id="td2habitat"></td>				<td id="td2depth"></td>			</tr>			<tr id="group3">				<td><div class="center"><input type="checkbox" name="selectedgroup" id="selected3" value="KingMackerel" onclick='selectFunctionalGroup(this);' checked></input></div></td>				<td>KingMackerel<div class="floatRight"><img class="imgSize25" src="edit.png"></div></td>				<td><div class="center"><input type="radio" name="sample3" value="fgroup" checked></input></div></td>				<td><div class="center"><input type="radio" name="sample3" value="bgroup"></input></div></td>				<td id="td3species">				<div class="floatLeft width80 overflow-hidden"><input type="checkbox" name="3species" id="0td3species" value="ScomberomorusCavalla" checked>				<i>Scomberomorus cavalla</i></div>				<div class="overflow-hidden"><img class="imgSize25" src="edit.png"></div></td>				<td id="td3size"></td>				<td id="td3habitat"></td>				<td id="td3depth"></td>			</tr>			<tr id="group4">				<td><div class="center"><input type="checkbox" name="selectedgroup" id="selected4" value="RedGrouper" onclick='selectFunctionalGroup(this);' checked></input></div></td>				<td>RedGrouper<div class="floatRight"><img class="imgSize25" src="edit.png"></div></td>				<td><div class="center"><input type="radio" name="sample4" value="fgroup" checked></input></div></td>				<td><div class="center"><input type="radio" name="sample4" value="bgroup"></input></div></td>				<td id="td4species"><div class="floatLeft width80 overflow-hidden"><input type="checkbox" name="4species" id="0td4species" value="EpinephelusMorio" checked>				<i>Epinephelus morio</i></div>				<div class="overflow-hidden"><img class="imgSize25" src="edit.png"></div></td>				<td id="td4size"></td>				<td id="td4habitat"></td>				<td id="td4depth"></td>			</tr>		</table>					<div class="padTop10"> 				<div class="floatleft">				<img class="imgSize25" src="add.png">				</div>			</div>			<div class="padTop10">				<input type="button" name="back" value="Back" onClick="history.go(-1)"/>								<input type="submit" name="submit" value="Proceed"/>								<input type="button" name="exit" value="Exit" onClick="parent.location='step1.html'"/>			</div>		</form>	</div></body></html>