<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>FB-Osmose Bridge</title>
<link rel="stylesheet" href="screen.css" type="text/css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="underscore-min.js" type="text/javascript"></script>
<script src="JSLINQ.js" type="text/javascript"></script>
<script type="text/javascript">
//$(document).ready(function () {
var ecosystemCount = 0;
var ecosystem = ['https://fishbase.ropensci.org/ecosystem?limit=5000'];

$.ajax({
	type: 'GET',
	url: "ecosystem.json",
	success: function (result) {
		
		$.each(result, function(index, element){
			$('#ecosystem').append($('<option>', {
				text: element.EcosystemName,
				id: element.E_CODE
			}));
		});
		
	},
	error: function(XMLHttpRequest, textStatus, errorThrown) {
		alert(textStatus);
	}
});

$.ajax({
	type: 'GET',
	url: "https://fishbase.ropensci.org/countref?limit=500&fields=C_Code,Note",
	success: function (result) {
		
		//get unique
		//var eName = _.keys(_.countBy(result.data, function(data) {return data.C_Code+'|'+data.Note; }));
		
		$.each(result.data, function(index, element){
			
			//var arr = element.split("|");
			
			$('#country').append($('<option>', {
				text: element.Note,
				id: element.C_Code
			}));
		});
		
	},
	error: function(XMLHttpRequest, textStatus, errorThrown) {
		alert(textStatus);
	}
});

//});
</script>
</head>
<body>

	<div class="pheader">Step 1: Getting parameter estimates for your OSMOSE model</div>
	<div id="container">
		<p class="justify13">You are about to query parameter estimates for your OSMOSE model.</p>

		<p class="justify13">To get started, please select an ecosystem or a combination of a country and FAO area.</p>
		
		<form action="step2.html" method="get" id="step1Form">
			<div class="padTop10">
				<div class="w200 floatLeft">
					 <b><i>Ecosystem</i></b> 
				</div>
				<select name="ecosystem" id="ecosystem">
					<option value="none" selected="selected">Select</option>
				</select>
			</div>
			<hr>
			<div class="padTop10">
				<div class="w200 floatLeft">
					 <b><i>Country</i></b> 
				</div>
				<select name="country" id="country">
					<option value="none">Select</option>
				</select>
			</div>
			<div class="padTop10">
				<div class="w200 floatLeft">
					 <b><i>Sub-country</i></b> 
				</div>
				<select name="subcountry" id="subcountry">
					<option value="empty" selected="selected">&nbsp;</option>
				</select>
			</div>
			<div class="padTop10">
				<div class="w200 floatLeft">
					 <b><i>FAO Area</i></b> 
				</div>
				<select name="faoarea" id="faoarea">
					<option value="namerica" >America, North - Inland waters</option>
					<option value="arctic">Arctic Ocean</option>
					<option value="atlantic" selected="selected">Atlantic, Northwest</option>
					<option value="atlanticwest">Atlantic, Western Central</option>
					<option value="pacificnorth">Pacific, Northeast</option>
					<option value="pacificeast">Pacific, Eastern Central</option>
				</select>
			</div>
		
		<div class="padTop10">
			<input type="submit" name="submit" value="Proceed"/>
			
			<input type="button" name="exit" value="Exit" onClick="parent.location='step1.html'"></input>
		</div>
		</form>
	</div>
	
	<div id="locid"></div>
	
	<script type="text/javascript">
	
	/*(function($){

		var Item = Backbone.Model.extend();

		var List = Backbone.Collection.extend({
			model: Item,
			url:"https://fishbase.ropensci.org/ecosystem?limit=10"
		  });    

		var ListView = Backbone.View.extend({    
			el: $('#test'),
			events: {
			  //'click button#add': 'getPost'
			},
			initialize: function(){
			  _.bindAll(this, 'render', 'getPost');
			  this.collection = new List();
			  this.render(); 
			},
			render: function(){
			  var self = this;      
			  $(this.el).append("<button id='add'>get</button>");
			},
			getPost: function(){
			  console.log(this.collection.fetch());
			}

		});

	  // **listView instance**: Instantiate main app view.
	  var listView = new ListView();      
	})(jQuery);?*/
	
	</script>
</body>
</html>